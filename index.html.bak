<html>

 <head>
  <title></title>
  <script src="customSetting.js"></script>
  <script src="src/jquery-3.2.1.min.js"></script>
  <script>
    $.noConflict();
    var jqry = jQuery;

    jqry(document).ajaxSuccess(function(){
         jqry('#_processing_div_').remove();
    }).ajaxSend(function(){
         jqry('#_processing_div_').remove();
         var _prcessing_img_ = jqry('<table>').css('margin','auto').append(jqry('<tr>').append('<td>').append(jqry('<img></img>').attr('src','img/processing.gif').attr('width','80')));
         var _processing_ = jqry('<div>').attr('id','_processing_div_').append(_prcessing_img_);
         jqry(document.body).append(_processing_);           
    });
    
    var remove_divAll = function(){
      jqry('#_devices_reg_div_').remove();
      jqry('#_adminauth_div_').remove();
      jqry('#_processing_div_').remove();
      jqry('#_regDeviceList_').remove();
      jqry('#_ajax_return_result_div_').remove();
      jqry('#_select_clusterGroup_').remove();
      jqry('#_devicesInfoUpdate_subMenu_div_').remove();
      jqry('#_deviceUpdated_infoView_div_').remove();
      jqry('#_deviceUpdated_infoView_table_').remove();
      jqry('#_exportRoutingButton_div_').remove();
      jqry('#_showRouting_div_').remove();
      jqry('#_manualUpdateRouting_div_').remove();
      jqry('#_exportConfiguration_ButtonDiv_').remove();
      jqry('#_cachingPolicyButton_div_').remove();
      jqry('#_listingPolicySelect_div_').remove();
      jqry('#_policyTable_div_').remove();
      jqry('#_userSearchMenu_div_').remove();
      jqry('#_searchInputValidation_div_').remove();
      jqry('#_matchstatusOverview_div_').remove();
      jqry('#_matchpolicytable_div_').remove();
    };

    function _addLine_forText_(_menu_table_, text_strings){
      var _line_ = jqry('<tr>');
      jqry.each(text_strings, function(index, element){
        var _element_ = jqry('<th>');
        _element_.html(element);
        _element_.css('color','grey').css('font-size','10');
        _line_.append(_element_);
      });
      _menu_table_.append(_line_);
    };

    function _addLine_forObject_(_table_, object_array){
      var _line_ = jqry('<tr>');
      jqry.each(object_array, function(index, element){
         _line_.append(jqry('<td>').append(element));
      });
      _table_.append(_line_);
    };

    var _ajaxSuccess_multiLine_printing_ = function(_dataFromajax_, _divIdName_){
       var _getFrom_ajax_ = JSON.parse(_dataFromajax_);
       var _ajax_return_result_div_ = jqry('<div>').attr('id',_divIdName_).attr('align','center');
       jqry.each(_getFrom_ajax_, function(index, element){
           _ajax_return_result_div_.append(jqry('<div>').html(element.process_msg).css('font-size','11').css('color','red'));
       });
       jqry(document.body).append(_ajax_return_result_div_);
    }

    function _login_auth_start_(_afterLogin_){
      var _hidden_auth_password_ = jqry(document.body).find('#_auth_password_')[0];
      if (_hidden_auth_password_){
        var _hiddenAuthpassword_ = jqry('#_auth_password_').val();
        _afterLogin_();
      }else{
        var _adminauth_div_ = jqry('<div>').attr('id','_adminauth_div_');
        jqry(document.body).append(_adminauth_div_);
        var _adminauth_table_ = jqry('<table>').css('margin','auto');
        text_strings = new Array('admin password', '');
        _addLine_forText_(_adminauth_table_, text_strings);
        var _adminauth_input_ = jqry('<input>').attr('type','password').attr('id','_adminauth_input_');
        var _adminauth_button_ = jqry('<button>').attr('id','_adminauth_button_').html('admin login');
        var _line_element_ = new Array(_adminauth_input_, _adminauth_button_);
        _addLine_forObject_(_adminauth_table_, _line_element_);
        _adminauth_div_.append(_adminauth_table_);
        jqry('#_adminauth_button_').on('click',function(event){
            jqry('#_auth_password_').remove();
            jqry('#_ajax_return_result_div_').remove();
            jqry.ajax({
                 type:"POST",
                 url:ajax_api_server.concat('juniper/confirmauth/'),
                 data:JSON.stringify({
                    auth_password:jqry('#_adminauth_input_').val(),
                 }),
                 success:function(data){
                    var _getFrom_ajax_= JSON.parse(data);
                    //
                    if (_getFrom_ajax_.process_status.match('error')){
                      var _ajax_return_result_div_ = jqry('<div>').attr('id','_ajax_return_result_div_').attr('align','center');
                      _ajax_return_result_div_.append(jqry('<h5>').html(_getFrom_ajax_.process_msg).css('color','red'));             
                      jqry(document.body).append(_ajax_return_result_div_);
                    }else{
                      var _getAuthpassword_ = jqry('<input>').attr('id','_auth_password_').attr('type','hidden').attr('value',_getFrom_ajax_.items[0].auth_password.trim());
                      jqry(document.body).append(_getAuthpassword_);
                      remove_divAll();
                      _afterLogin_();
                    } 
                    //
                 }
            });
            event.preventDefault()
            event.stopPropagation()
            return false 
        });
      }
    };

    var _addSelect_ = function (_array_, _select_id_){
       var _select_ = jqry('<select>').attr('id',_select_id_);
       if (_array_.length != 0){
         jqry.each(_array_, function(index, element){
            _select_.append(jqry('<option>').attr('value',element).html(element));
         });
       }
       _select_.append(jqry('<option>').attr('value','none').html('none'));
       return _select_
    };

    //
    function _addImg_(_filename_){
       var _filestring_ = String(_filename_);
       var _fname_= _filestring_.split('/');
       var _id_ = _fname_[1].split('.');
       var _regImg_ = jqry('<img>');
       _regImg_.attr('src',_filename_);
       _regImg_.attr('id',_id_[0]);
       _regImg_.attr('width','70');
       _regImg_.attr('height','70');
       return _regImg_
    };

    function _addLine_forImg_(_menu_table_, img_filenames){
      var _line_ = jqry('<tr>');
      jqry.each(img_filenames, function(index, element){
        var _element_ = jqry('<td>');
        _element_.append(_addImg_(element));
        _line_.append(_element_); 
      });
      _menu_table_.append(_line_);
    }
    //
     
    ////////////////////////////////// menu function ///////////////////////////////////////
    jqry(document).ready(function(){
      var menu_function = function (){

         remove_divAll();
         var _menu_div_ = jqry('<div>');
         _menu_div_.attr('id','_menu_div_');
         var _menu_table_ = jqry('<table>').css('margin','auto'); 
         _menu_table_.attr('id','_menu_table_');
         // add line
         img_filenames = new Array('img/register_image.png', 'img/group_image.png', 'img/firewallUpdate.png', 'img/book_image.jpeg', 'img/list_image.jpeg', 'img/search_image.png');
         _addLine_forImg_(_menu_table_, img_filenames);
         text_strings = new Array('firewall register<br>for admin', 'clustring firewall<br>for admin', 'devices status<br>update', 'routing update<br>for admin', 'policies<br>for admin', 'search<br>for users');
         _addLine_forText_(_menu_table_, text_strings);
         jqry(_menu_div_).append(_menu_table_);
         jqry(document.body).append(_menu_div_);
      };
      jqry('#_auth_password_').remove(); 
      menu_function();
    });

    jqry(document).ready(function(){
      ////////////////////////////////// register button click ///////////////////////////////////////
      jqry('#register_image').on('click',function(event){
         remove_divAll();
         //
         function _register_inputForm_(){
           ///////
           var _devices_reg_div_ = jqry('<div>').attr('id','_devices_reg_div_');
           jqry(document.body).append(_devices_reg_div_);
           jqry('#_regInfoList_').remove();
           var _regInfoList_ = jqry('<div>').attr('id','_regInfoList_');
           jqry(document.body).append(_regInfoList_);
           ///////
           jqry('#_regInfoList_').on('click', 'button', function(event){
                var _splited_ = jqry(this).val().split('@');
                jqry('#_ajax_return_result_div_').remove();
                jqry.ajax({
                   type:"DELETE",
                   url:ajax_api_server.concat('juniper/devicelist/register/'),
                   data:JSON.stringify({
                       items:[{
                          apiaccessip:_splited_[0],
                          hostname:_splited_[1],
                          location:_splited_[2],
                          model:_splited_[3],
                          version:_splited_[4]
                       }],
                       auth_key:jqry('#_auth_password_').val()
                   }),
                   success:function(data){
                       _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                       _regDeviceList_ajax_(_regInfoList_);
                   }
                });
                event.preventDefault()
                event.stopPropagation()
                return false
           }); 
           ///////
           var _regDeviceList_ajax_ = function(_regInfoList_){
              jqry('#_regDeviceList_').remove();
              jqry.ajax({
                 type:"GET",
                 url:ajax_api_server.concat('juniper/devicelist/register/'),
                 success:function(data){
                   var _getFrom_ajax_ = JSON.parse(data);
                   var _getFromArray_ = _getFrom_ajax_.items;                    
                   if (_getFromArray_.length){
                     var _regDeviceList_ = jqry('<table>').css('margin','auto').attr('id','_regDeviceList_');
                     jqry.each(_getFromArray_, function(index, element){
                        var _line_ = jqry('<tr>');
                        _line_.append(jqry('<th>').html(element.apiaccessip).css('color','black').css('font-size','12'));
                        _line_.append(jqry('<th>').html(element.hostname).css('color','red').css('font-size','12'));
                        _line_.append(jqry('<th>').html(element.location).css('color','black').css('font-size','12'));
                        _line_.append(jqry('<th>').html(element.model).css('color','grey').css('font-size','12'));
                        _line_.append(jqry('<th>').html(element.version).css('color','grey').css('font-size','12'));
                        var _element_valuesArray_ = new Array(element.apiaccessip, element.hostname, element.location, element.model, element.version);
                        _line_.append(jqry('<th>').append(jqry('<button>').attr('value',_element_valuesArray_.join('@')).html('Remove').css('color','red').css('font-size','8')));
                        _regDeviceList_.append(_line_);
                     });
                     _regInfoList_.append(_regDeviceList_); 
                   };
                 }
              });
           };
           ///////
           jqry('#_devices_reg_div_').on('click', '#_regButton_', function(event){
                var ip_pattern = new RegExp("^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$");
                var _regIp_ = jqry('#_ipAddr_regi_').val();
                jqry('#_ajax_return_result_div_').remove();
                if (! ip_pattern.test(_regIp_)){
                  var _ajax_return_result_div_ = jqry('<div>').attr('id','_ajax_return_result_div_').attr('align','center');
                  _ajax_return_result_div_.append(jqry('<h5>').html('without subnet, IP only').css('color','red'));             
                  jqry(document.body).append(_ajax_return_result_div_);
                }else{
                  jqry.ajax({
                     type:"POST",
                     url:ajax_api_server.concat('juniper/devicelist/register/'),
                     data:JSON.stringify({
                        items:[{
                           apiaccessip:jqry('#_ipAddr_regi_').val(),
                           location:jqry('#_idc_location_ > option:selected')[0].value
                        }],
                        auth_key:jqry('#_auth_password_').val()
                     }),
                     success:function(data){
                        _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                        _regDeviceList_ajax_(_regInfoList_);
                     } 
                  });
                }
                event.preventDefault()
                event.stopPropagation()
                return false
           });
           var _devices_reg_table_ = jqry('<table>').css('margin','auto').attr('id','_devices_reg_table_');
           text_strings = new Array('IP address<br>to register', 'Location', '');
           _addLine_forText_(_devices_reg_table_, text_strings);
           var _regIp_ = jqry('<input>').attr('type','text').attr('id','_ipAddr_regi_');
           var _idcLocation_ = new Array('ilsan', 'boramae', 'commerce');
           var _regIdc_ = _addSelect_(_idcLocation_, '_idc_location_');
           var _regButton_ = jqry('<button>').attr('id','_regButton_').html('Register');
           var _line_element_ = new Array(_regIp_, _regIdc_, _regButton_);
           _addLine_forObject_(_devices_reg_table_, _line_element_);
           _devices_reg_div_.append(_devices_reg_table_);
           //
           _regDeviceList_ajax_(_regInfoList_);
         };
         _login_auth_start_(_register_inputForm_);
         event.preventDefault()
         event.stopPropagation()
         return false
      });
      ////////////////////////////////// register button click ///////////////////////////////////////
      jqry('#group_image').on('click',function(event){
         remove_divAll();

         function _selectOptoin_create_(_ajaxArray_, _selectObject_){
           jqry.each(_ajaxArray_, function(index, element){
              if (element.clusterStatus.match('none')){
                _selectObject_.append(jqry('<option>').attr('value',element.hostname).html(element.hostname));
              }
           }); 
         };

         function _clusterStatusInfo_(_select_clusterGroup_){
           jqry('#_clusterGroupList_table_').remove();
           jqry.ajax({
             type:"GET",
             url:ajax_api_server.concat('juniper/devicelist/clustering/'),
             success:function(data){
                var _getFrom_ajax_ = JSON.parse(data);
                var _ajaxArray_ = _getFrom_ajax_.items;
                if (_ajaxArray_.length){
                  var _clusterGroupList_table_ = jqry('<table>').attr('id','_clusterGroupList_table_');
                  jqry.each(_ajaxArray_, function(index, element){
                     if (! element.clusterStatus.match('none')){
                       var _line_ = jqry('<tr>');
                       _line_.append(jqry('<th>').html(element.hostname).css('color','red').css('font-size','12'));
                       _line_.append(jqry('<th>').html(element.hahostname).css('color','grey').css('font-size','12'));
                       var _element_valuesArray_ = new Array(element.hostname, element.hahostname);
                       _line_.append(jqry('<th>').append(jqry('<button>').attr('id','_UncluseringButton_').attr('value',_element_valuesArray_.join('@')).html('UnClustering').css('color','red').css('font-size','8')));
                       _clusterGroupList_table_.append(_line_);                  
                     };
                  });
                  _select_clusterGroup_.append(_clusterGroupList_table_);
                } 
             }
           }); 
         }
         //
         function _createSelectOption_forClustering_(_select_clusterGroup_){
           jqry('#_clusterGroup_table_').remove();
           jqry.ajax({
             type:"GET",
             url:ajax_api_server.concat('juniper/devicelist/clustering/'),
             success:function(data){
                var _getFrom_ajax_ = JSON.parse(data);
                var _ajaxArray_ = _getFrom_ajax_.items;
                var _notClustered_array_ = new Array();
                jqry.each(_ajaxArray_, function(index, element){
                  if (element.clusterStatus.match('none')){
                    _notClustered_array_.push(element);
                  }
                });
                if (_notClustered_array_.length){
                  var _clusterGroup_table_ = jqry('<table>').attr('id','_clusterGroup_table_');
                  var _firstClusterName_ = jqry('<select>').attr('id','_firstClusterName_');
                  _selectOptoin_create_(_ajaxArray_, _firstClusterName_)
                  var _secondClusterName_ = jqry('<select>').attr('id','_secondClusterName_');
                  _selectOptoin_create_(_ajaxArray_, _secondClusterName_)
                  var _cluseringButton_ = jqry('<button>').attr('id','_cluseringButton_').html('clustering').css('color','green').css('font-size','12')
                  var _line_element_ = new Array(_firstClusterName_, _secondClusterName_, _cluseringButton_);
                  _addLine_forObject_(_clusterGroup_table_, _line_element_);                   
                  _select_clusterGroup_.append(_clusterGroup_table_);
                };
             }
           });
         };
         //
         function _clusterInfoList_(){
           var _select_clusterGroup_ = jqry('<div>').attr('id','_select_clusterGroup_').attr('align','center');
           jqry(document.body).append(_select_clusterGroup_);
           //
           jqry('#_select_clusterGroup_').on('click', '#_cluseringButton_', function(event){
              jqry('#_ajax_return_result_div_').remove();
              var _firstSelected_ = jqry('#_firstClusterName_ > option:selected').val();
              var _secondSelected_ = jqry('#_secondClusterName_> option:selected').val();
              if (_firstSelected_.match(_secondSelected_) || _secondSelected_.match(_firstSelected_)){
                var _ajax_return_result_div_ = jqry('<div>').attr('id','_ajax_return_result_div_').attr('align','center');
                _ajax_return_result_div_.append(jqry('<h5>').html('same devices chosen').css('color','red'));
                jqry(document.body).append(_ajax_return_result_div_);                        
              }else{
                jqry.ajax({
                   type:"POST",
                   data:JSON.stringify({
                       items:[{
                          hostname:_firstSelected_,
                          hahostname:_secondSelected_
                       }],
                       auth_key:jqry('#_auth_password_').val()
                   }), 
                   url:ajax_api_server.concat('juniper/devicelist/clustering/'),
                   success:function(data){
                     _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                     _createSelectOption_forClustering_(_select_clusterGroup_);
                     _clusterStatusInfo_(_select_clusterGroup_);
                   }
                });
              }
              event.preventDefault()
              event.stopPropagation()
              return false
           }); 
           //
           jqry('#_select_clusterGroup_').on('click', '#_UncluseringButton_', function(event){
              jqry('#_ajax_return_result_div_').remove();
              var _unclusertingButton_array_ = jqry('#_UncluseringButton_').val().split('@');
              jqry.ajax({
                 type:"DELETE",
                 url:ajax_api_server.concat('juniper/devicelist/clustering/'),
                 data:JSON.stringify({
                     items:[{
                        hostname:_unclusertingButton_array_[0],
                        hahostname:_unclusertingButton_array_[1]
                     }],
                     auth_key:jqry('#_auth_password_').val()
                 }),
                 success:function(data){
                     _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                     _createSelectOption_forClustering_(_select_clusterGroup_);
                     _clusterStatusInfo_(_select_clusterGroup_);
                 }
              });
              event.preventDefault()
              event.stopPropagation()
              return false
           });
           //
           _createSelectOption_forClustering_(_select_clusterGroup_)
           _clusterStatusInfo_(_select_clusterGroup_);
         };
         _login_auth_start_(_clusterInfoList_);
         event.preventDefault()
         event.stopPropagation()
         return false
      });
      ////////////////////////////////// register button click ///////////////////////////////////////
      jqry('#firewallUpdate').on('click',function(event){

         function _deviceUpdated_infoView_(_deviceUpdated_infoView_div_){
              jqry('#_deviceUpdated_infoView_select_').remove();
              jqry.ajax({
                 type:"GET",
                 url:ajax_api_server.concat('juniper/devicelist/'),
                 success:function(data){
                     var _getFrom_ajax_ = JSON.parse(data);
                     var _getFrom_ajax_array_ = _getFrom_ajax_.items;
                     var _hostnameList_ = new Array();
                     var _deviceUpdated_infoView_select_= jqry('<select>').css('margin','auto').attr('id','_deviceUpdated_infoView_select_');
                     jqry.each(_getFrom_ajax_array_, function(index, element){
                        if (_hostnameList_.indexOf(element.hostname) == -1){
                          _deviceUpdated_infoView_select_.append(jqry('<option>').attr('value',element.hostname).html(element.hostname));
                          _hostnameList_.push(element.hostname);
                        }
                     _deviceUpdated_infoView_div_.append(_deviceUpdated_infoView_select_);
                     });
                 }
              });              
         };

         function _devicesInfoUpdate_(){
              var _devicesInfoUpdate_subMenu_div_ = jqry('<div>').attr('id','_devicesInfoUpdate_subMenu_div_').attr('align','center');
              jqry(document.body).append(_devicesInfoUpdate_subMenu_div_);
              var _devicesInfoUpdate_subMenu_table_ = jqry('<table>').css('margin','auto').attr('id','_devicesInfoUpdate_subMenu_table_');
              //
              var _deviceUpdated_infoView_div_ = jqry('<div>').attr('id','_deviceUpdated_infoView_div_').attr('align','center');
              jqry(document.body).append(_deviceUpdated_infoView_div_);
              //
              function _callAjax_zoneList_(_thisObj_value_){
                 jqry('#_ajax_return_result_div_').remove();
                 jqry('#_deviceUpdated_infoView_table_').remove();
                 jqry.ajax({
                    type:"GET",
                    url:ajax_api_server.concat('juniper/devicelist/'),
                    success:function(data){
                         var _getFrom_ajax_ = JSON.parse(data);
                         var _getFrom_ajax_array_ = _getFrom_ajax_.items;
                         var _deviceUpdated_infoView_table_ = jqry('<table>').css('margin','auto').attr('id','_deviceUpdated_infoView_table_');
                         _deviceUpdated_infoView_div_.append(_deviceUpdated_infoView_table_);
                         jqry.each(_getFrom_ajax_array_, function(index, element){
                            if (_thisObj_value_.match(element.hostname)){
                              _tableTrObj_ = jqry('<tr>');
                              _tableTrObj_.append(jqry('<th>').css('font-size','11').html(element.hostname).css('color','grey'));
                              if (element.failover.match('^primary$')){
                                _tableTrObj_.append(jqry('<th>').css('font-size','12').html(element.failover).css('color','black'));
                              }else{
                                _tableTrObj_.append(jqry('<th>').css('font-size','12').html(element.failover).css('color','grey')); 
                              };
                              _tableTrObj_.append(jqry('<th>').css('font-size','11').html(element.from_zone).css('color','green'));
                              _tableTrObj_.append(jqry('<th>').css('font-size','11').html(element.to_zone).css('color','green')); 
                              var _button_value_string_ = String(element.hostname) + String('#') + String(element.from_zone) + String('#') + String(element.to_zone);
                              if (element.zoneValidation.match('^enable$')){
                                _button_value_string_ = _button_value_string_.concat('#enable#disable');
                                _tableTrObj_.append(jqry('<th>').append(jqry('<button>').attr('value',_button_value_string_).html('enable').css('color','blue').css('font-size','8')));
                              }else{
                                _button_value_string_ = _button_value_string_.concat('#disable#enable');
                                _tableTrObj_.append(jqry('<th>').append(jqry('<button>').attr('value',_button_value_string_).html('disable').css('color','red').css('font-size','8')));
                              };
                              _deviceUpdated_infoView_table_.append(_tableTrObj_);
                            };
                         });
                    }   
                 });
              };
              //
              jqry('#_deviceUpdated_infoView_div_').on('change','#_deviceUpdated_infoView_select_',function(event){
                 var _thisObj_value_ = jqry(this).val();
                 _callAjax_zoneList_(_thisObj_value_);
                 event.preventDefault()
                 event.stopPropagation()
                 return false
              });
              //
              jqry('#_deviceUpdated_infoView_div_').on('click', 'button', function(event){
                 var _thisSelected_value_ = jqry('#_deviceUpdated_infoView_select_ > option:selected')[0].value;
                 var _thisObj_value_ = jqry(this).val();
                 var _thisObj_array_ = _thisObj_value_.split('#');
                 jqry.ajax({
                    type:"PUT",
                    data:JSON.stringify({ 
                      items:[{
                          hostname:_thisObj_array_[0],
                          from_zone:_thisObj_array_[1],
                          to_zone:_thisObj_array_[2],
                          zoneValidation:_thisObj_array_[3],
                          zoneValidationChange:_thisObj_array_[4]
                      }],
                      auth_key:jqry('#_auth_password_').val()
                    }),
                    url:ajax_api_server.concat('juniper/devicelist/'),
                    success:function(data){
                        _callAjax_zoneList_(_thisSelected_value_);                   
                    }
                 });
                 event.preventDefault()
                 event.stopPropagation()
                 return false
              });

              jqry('#_devicesInfoUpdate_subMenu_div_').on('click', '#_devicesInfoUpdate_subMenu_button_', function(event){
                 jqry('#_ajax_return_result_div_').remove();
                 jqry('#_deviceUpdated_infoView_table_').remove();
                 jqry.ajax({
                    type:"POST",
                    url:ajax_api_server.concat('juniper/devicelist/'),
                    data:JSON.stringify({
                        auth_key:jqry('#_auth_password_').val()
                    }),
                    success:function(data){
                        _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                        _deviceUpdated_infoView_(_deviceUpdated_infoView_div_);
                    }
                 });     
                 event.preventDefault()
                 event.stopPropagation()
                 return false
              });
              var _devicesInfoUpdate_subMenu_button_ = jqry('<button>').attr('id','_devicesInfoUpdate_subMenu_button_').html('registered devices information updates').css('color','green').css('font-size','12');
              _devicesInfoUpdate_subMenu_div_.append(_devicesInfoUpdate_subMenu_button_);
              _deviceUpdated_infoView_(_deviceUpdated_infoView_div_);
         }; 
         remove_divAll();
         _login_auth_start_(_devicesInfoUpdate_);
         event.preventDefault()
         event.stopPropagation()
         return false
      });

      ////////////////////////////////// register button click ///////////////////////////////////////
      jqry('#book_image').on('click',function(event){
         remove_divAll();
         function _showRoutingInfo_(_showRouting_div_){
            jqry('#_showRoutingSelect_').remove();
            jqry('#_showRoutingTable_').remove();
            jqry('#_updateRoutingTable_table_').remove();
            jqry('#_ajax_return_result_div_').remove();
            jqry.ajax({
               type:"GET",
               url:ajax_api_server.concat('juniper/showroute/'),
               success:function(data){
                   var _getFrom_ajax_ = JSON.parse(data);
                   var _getFrom_ajax_items_ = _getFrom_ajax_.items;
                   if (_getFrom_ajax_items_.length){
                     var _showRoutingSelect_ = jqry('<select>').css('margin','auto').attr('id','_showRoutingSelect_');
                     jqry.each(_getFrom_ajax_items_, function(index, element){
                        _showRoutingSelect_.append(jqry('<option>').attr('value',element).html(element)); 
                     });
                     _showRouting_div_.append(_showRoutingSelect_);
                   };
               }
            });
         };
         function _showRoutingInfo_ByHost_(_showRouting_div_, _manualUpdateRouting_div_){
            jqry('#_showRoutingTable_').remove();
            jqry('#_updateRoutingTable_table_').remove();
            jqry('#_ajax_return_result_div_').remove();
            var _selectedHostName_ = jqry('#_showRoutingSelect_ > option:selected')[0].value;
            jqry.ajax({
               type:"POST",
               url:ajax_api_server.concat('juniper/showroute/staticupdate/'),
               data:JSON.stringify({
                   items:[{
                      hostname:_selectedHostName_
                   }],
                   auth_key:jqry('#_auth_password_').val()
               }),
               success:function(data){
                   var _getFrom_ajax_ = JSON.parse(data);
                   var _getFrom_ajax_array_= _getFrom_ajax_.items;
                   if (_getFrom_ajax_array_.length){
                     var _showRoutingTable_ = jqry('<table>').css('margin','auto').attr('id','_showRoutingTable_');
                     _showRouting_div_.append(_showRoutingTable_);
                     jqry.each(_getFrom_ajax_array_, function(index, element){
                        _tableTrObj_ = jqry('<tr>');
                        _tableTrObj_.append(jqry('<th>').css('font-size','11').html(element.routing_address).css('color','grey'));
                        _tableTrObj_.append(jqry('<th>').css('font-size','11').html(element.zonename).css('color','grey'));
                        if (! element.update_method.match('^auto$')){
                          var _buttonValue_array_ = new Array(_selectedHostName_, element.routing_address, element.zonename);
                          var _buttonValue_ = _buttonValue_array_.join('#');
                          _tableTrObj_.append(jqry('<th>').append(jqry('<button>').html('remove').css('font-size','9').css('color','red').attr('value',_buttonValue_)));
                        }else{
                          _tableTrObj_.append(jqry('<th>').css('font-size','11').html(element.update_method).css('color','grey'));
                        };
                        _showRoutingTable_.append(_tableTrObj_); 
                     });
                   };
                   var _getFrom_ajax_zonesName_= _getFrom_ajax_.zonesName;
                   if (_getFrom_ajax_zonesName_.length){
                     var _updateRoutingTable_table_ = jqry('<table>').css('margin','auto').attr('id','_updateRoutingTable_table_');
                     _manualUpdateRouting_div_.append(_updateRoutingTable_table_);
                     _tableTrObj_ = jqry('<tr>');
                     _tableTrObj_.append(jqry('<th>').append(jqry('<textarea>').attr('cols','80').attr('rows','4').attr('id','_input_address_').val('(Example) 0.0.0.0/0;192.168.10.0/24;').css('color','grey')));
                     var _updateRoutingSelect_ = jqry('<select>').css('margin','auto').attr('id','_updateRoutingSelect_');
                     jqry.each(_getFrom_ajax_zonesName_, function(index, element){
                        _updateRoutingSelect_.append(jqry('<option>').attr('value',element).html(element)); 
                     });
                     _tableTrObj_.append(jqry('<th>').append(_updateRoutingSelect_));
                     _tableTrObj_.append(jqry('<th>').append(jqry('<button>').attr('id','_routing_updateButton_').css('font-size','12').html('static insert')));
                     _updateRoutingTable_table_.append(_tableTrObj_);
                   };
               }
            });
         };
         function routingUpdate_subMenu(){
            var _exportRoutingButton_div_ = jqry('<div>').attr('id','_exportRoutingButton_div_').attr('align','center');
            _exportRoutingButton_div_.append(jqry('<button>').attr('id','_exportRoutingButton_').html('routing table update').css('font-size','12').css('color','green'));
            jqry(document.body).append(_exportRoutingButton_div_);
            //
            var _showRouting_div_ = jqry('<div>').attr('id','_showRouting_div_').attr('align','center');
            jqry(document.body).append(_showRouting_div_);
            //
            var _manualUpdateRouting_div_ = jqry('<div>').attr('id','_manualUpdateRouting_div_').attr('align','center');
            jqry(document.body).append(_manualUpdateRouting_div_);
            //
            jqry('#_manualUpdateRouting_div_').on('click', 'button', function(event){
               jqry('#_ajax_return_result_div_').remove();
               var _inputFromTextarea_ = jqry('#_input_address_').val();
               var _inputFromTextarea_array_ = _inputFromTextarea_.split(';');
               //
               var ip_pattern = new RegExp("^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+/[0-9]+$");
               var _inputStatus_ = 1;
               var _validInput_ = new Array();
               jqry.each(_inputFromTextarea_array_, function(index, element){
                  var _netvalue_input_ = element.trim();
                  if (_netvalue_input_.length){
                    if (ip_pattern.test(_netvalue_input_)){
                      _validInput_.push(_netvalue_input_);
                    }
                    else{
                      _inputStatus_ = 0;
                    }
                  }
               });
               if (_inputStatus_){
                 jqry.ajax({
                    type:"PUT",
                    url:ajax_api_server.concat('juniper/showroute/staticupdate/'),
                    data:JSON.stringify({
                        items:[{
                           hostname:jqry('#_showRoutingSelect_ > option:selected')[0].value,
                           zonename:jqry('#_updateRoutingSelect_ > option:selected')[0].value,
                           routing_address:_validInput_
                        }],
                        auth_key:jqry('#_auth_password_').val()
                    }),
                    success:function(data){
                        _showRoutingInfo_ByHost_(_showRouting_div_, _manualUpdateRouting_div_);
                        _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                    } 
                 }); 
               }else{
                 jqry(document.body).append(jqry('<div>').attr('align','center').attr('id','_ajax_return_result_div_').html('input values have wrong format!').css('color','red').css('font-size','11'));
               };
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            //
            jqry('#_showRouting_div_').on('click', 'button', function(event){
               var _removeItem_string_ = jqry(this).val();
               var _removeItem_ = _removeItem_string_.split('#');
               jqry.ajax({
                  type:"DELETE",
                  url:ajax_api_server.concat('juniper/showroute/staticupdate/'),
                  data:JSON.stringify({
                      items:[{
                           hostname:_removeItem_[0],
                           zonename:_removeItem_[2],
                           routing_address:_removeItem_[1]
                      }],
                      auth_key:jqry('#_auth_password_').val()
                  }),
                  success:function(data){
                      _showRoutingInfo_ByHost_(_showRouting_div_, _manualUpdateRouting_div_);
                      _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_'); 
                  }
               });
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            jqry('#_showRouting_div_').on('change', 'select', function(event){
               _showRoutingInfo_ByHost_(_showRouting_div_, _manualUpdateRouting_div_);
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            //
            jqry('#_exportRoutingButton_').on('click', function(event){
               jqry.ajax({
                  type:"POST",
                  url:ajax_api_server.concat('juniper/showroute/'),
                  data:JSON.stringify({
                      auth_key:jqry('#_auth_password_').val()
                  }),
                  success:function(data){
                      _showRoutingInfo_(_showRouting_div_);
                      _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                  } 
               });
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            _showRoutingInfo_(_showRouting_div_);
         }; 
         _login_auth_start_(routingUpdate_subMenu);
         event.preventDefault()
         event.stopPropagation()
         return false
      });
 
      ////////////////////////////////// register button click ///////////////////////////////////////
      jqry('#list_image').on('click',function(event){
         remove_divAll();
         function policyExportingCaching_menu(){
            var _exportConfiguration_ButtonDiv_ = jqry('<div>').attr('id','_exportConfiguration_ButtonDiv_').attr('align','center');
            _exportConfiguration_ButtonDiv_.append(jqry('<button>').attr('id','_exportConfiguration_').html('export configurations').css('font-size','12').css('color','green'));
            jqry(document.body).append(_exportConfiguration_ButtonDiv_);
            //
            jqry('#_exportConfiguration_').on('click', function(event){
               jqry('#_ajax_return_result_div_').remove();
               jqry('#_policyTable_div_').remove();
               jqry.ajax({
                  type:"POST",
                  url:ajax_api_server.concat('juniper/exportpolicy/'),
                  data:JSON.stringify({ auth_key:jqry('#_auth_password_').val() }),
                  success:function(data){
                       _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                  }
               });
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            //
            function _showCached_devices_(_listingPolicySelect_div_){
               jqry('#_listPolicySelectTable_').remove();
               jqry.ajax({
                  type:"GET",
                  url:ajax_api_server.concat('juniper/showrulebyrequest/'),
                  success:function(data){
                      var _getFrom_ajax_ = JSON.parse(data);
                      var _getFrom_ajax_items_ = _getFrom_ajax_.items;
                      if (_getFrom_ajax_items_.length){
                        var _listPolicySelectTable_ = jqry('<table>').css('margin','auto').attr('id','_listPolicySelectTable_');
                        _listingPolicySelect_div_.append(_listPolicySelectTable_);
                        var _tabletr_ = jqry('<tr>');
                        _listPolicySelectTable_.append(_tabletr_);
                        var _tableth_1_ = jqry('<th>');
                        _tabletr_.append(_tableth_1_);
                        var _listingPolicySelect_ = jqry('<select>').attr('id','_listingPolicySelect_').css('margin','auto');
                        _tableth_1_.append(_listingPolicySelect_);
                        jqry.each(_getFrom_ajax_items_, function(index, element){
                             var _elementArray_ = new Array(element.hostname, element.from_zone, element.to_zone);
                             var _optionValueString_ = _elementArray_.join(' ');
                             _listingPolicySelect_.append(jqry('<option>').attr('value',_optionValueString_).html(_optionValueString_).css('font-size','8'));
                        });
                        var _tableth_2_ = jqry('<th>').html('deivce only').css('font-size','13').css('color','grey');
                        _tabletr_.append(_tableth_2_);
                        _tableth_2_.append(jqry('<input>').attr('type','checkbox').attr('id','PolicySelectCheckbox').attr('value','deviceonly'));
                      }
                  }
               });
            }; 
            // 
            var _cachingPolicyButton_div_ = jqry('<div>').attr('id','_cachingPolicyButton_div_').attr('align','center');
            _cachingPolicyButton_div_.append(jqry('<button>').attr('id','_cachingPolicyButton_').html('cache security policies').css('font-size','12').css('color','green'));
            jqry(document.body).append(_cachingPolicyButton_div_);
            var _listingPolicySelect_div_ = jqry('<div>').attr('id','_listingPolicySelect_div_').attr('align','center');
            jqry(document.body).append(_listingPolicySelect_div_);
            //
            jqry('#_cachingPolicyButton_').on('click', function(event){
               jqry('#_ajax_return_result_div_').remove();
               jqry('#_policyTable_div_').remove();
               jqry.ajax({
                  type:"POST",
                  url:ajax_api_server.concat('juniper/cachingpolicy/'),
                  data:JSON.stringify({ auth_key:jqry('#_auth_password_').val() }),
                  success:function(data){
                       _showCached_devices_(_listingPolicySelect_div_)
                       _ajaxSuccess_multiLine_printing_(data, '_ajax_return_result_div_');
                  }
               });
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            //
            //var _listingPolicySelect_div_ = jqry('<div>').attr('id','_listingPolicySelect_div_').attr('align','center');
            //jqry(document.body).append(_listingPolicySelect_div_);
            _showCached_devices_(_listingPolicySelect_div_);
            //jqry('#_listPolicySelectTable_').remove();
            //jqry.ajax({
            //   type:"GET",
            //   url:ajax_api_server.concat('juniper/showrulebyrequest/'),
            //   success:function(data){
            //       var _getFrom_ajax_ = JSON.parse(data);
            //       var _getFrom_ajax_items_ = _getFrom_ajax_.items;
            //       if (_getFrom_ajax_items_.length){
            //         var _listPolicySelectTable_ = jqry('<table>').css('margin','auto').attr('id','_listPolicySelectTable_');
            //         _listingPolicySelect_div_.append(_listPolicySelectTable_);
            //         var _tabletr_ = jqry('<tr>');
            //         _listPolicySelectTable_.append(_tabletr_);
            //         var _tableth_1_ = jqry('<th>');
            //         _tabletr_.append(_tableth_1_);
            //         var _listingPolicySelect_ = jqry('<select>').attr('id','_listingPolicySelect_').css('margin','auto');
            //         _tableth_1_.append(_listingPolicySelect_);
            //         jqry.each(_getFrom_ajax_items_, function(index, element){
            //              var _elementArray_ = new Array(element.hostname, element.from_zone, element.to_zone);
            //              var _optionValueString_ = _elementArray_.join(' ');
            //              _listingPolicySelect_.append(jqry('<option>').attr('value',_optionValueString_).html(_optionValueString_).css('font-size','8'));
            //         });
            //         var _tableth_2_ = jqry('<th>').html('deivce only').css('font-size','13').css('color','grey');
            //         _tabletr_.append(_tableth_2_);
            //         _tableth_2_.append(jqry('<input>').attr('type','checkbox').attr('id','PolicySelectCheckbox').attr('value','deviceonly'));
            //       }
            //   }
            //});
            //
            jqry('#_listingPolicySelect_div_').on('change', 'select', function(event){
               jqry('#_ajax_return_result_div_').remove();
               jqry('#_policyTable_div_').remove();
               var _optionValueString_ = jqry('#_listingPolicySelect_ > option:selected').val();
               var _elementArray_ = _optionValueString_.split(' ');

               var _checkboxString_ = jqry('#PolicySelectCheckbox:checked').val();
               if (_checkboxString_){
                 _optionvalue_ = _checkboxString_;
               }else{
                 _optionvalue_ = 'no option';
               }

               jqry.ajax({
                  type:"POST",
                  url:ajax_api_server.concat('juniper/showrulebyrequest/'),
                  data:JSON.stringify({
                      items:[{
                           hostname:_elementArray_[0],
                           from_zone:_elementArray_[1],
                           to_zone:_elementArray_[2],
                           option:_optionvalue_
                      }]
                  }),
                  success:function(data){
                      var _getFrom_ajax_ = JSON.parse(data);
                      var _getFrom_ajax_items_ = _getFrom_ajax_.items;
                      if (_getFrom_ajax_items_.length){
                        var _policyTable_div_ = jqry('<div>').attr('id','_policyTable_div_').attr('align','center'); 
                        jqry(document.body).append(_policyTable_div_);
                        //
                        var _policyTable_ = jqry('<table>').css('margin','auto').attr('id','_policyTable_');
                        _policyTable_div_.append(_policyTable_);
                        //
                        jqry.each(_getFrom_ajax_items_, function(index, element){
                            var text_strings = new Array(
                                element.hostname,
                                element.from_zone,
                                element.to_zone,
                                element.policyname,
                                element.sequence_number,
                                element.srcIp.join('<br>'),
                                element.srcPort.join('<br>'),
                                element.dstIp.join('<br>'),
                                element.dstPort.join('<br>'),
                                element.action
                            );
                            _addLine_forText_(_policyTable_, text_strings); 
                        });
                      }
                  }
               }); 
               event.preventDefault();
               event.stopPropagation();
               return false
            });
            // 
            // 
         };
         _login_auth_start_(policyExportingCaching_menu);
         event.preventDefault()
         event.stopPropagation()
         return false
      });
      
      ////////////////////////////////// register button click ///////////////////////////////////////
      jqry('#search_image').on('click',function(event){
         remove_divAll();
         function userSearchMenu(){
            var _userSearchMenu_div_ = jqry('<div>').attr('id','_userSearchMenu_div_').attr('align','center');
            jqry(document.body).append(_userSearchMenu_div_); 
            //
            var _usrSearchTable_ = jqry('<table>').css('margin','auto').attr('id','_usrSearchTable_');
            _userSearchMenu_div_.append(_usrSearchTable_);
            //
            var text_strings = new Array('source<br>address', 'option', 'destination<br>address', 'option', 'protocol', 'application<br>number', 'action', '');
            _addLine_forText_(_usrSearchTable_, text_strings);
            //
            var _trObject_ = jqry('<tr>');
            _usrSearchTable_.append(_trObject_);
            _trObject_.append(jqry('<th>').append(jqry('<input>').attr('type','text').attr('id','srcIp')));
            //
            var srcIpSelectOjbect = jqry('<select>').attr('id','srcIpSelectOjbect');
            srcIpSelectOjbect.append(jqry('<option>').attr('value','userdefine').html('user define'));
            srcIpSelectOjbect.append(jqry('<option>').attr('value','all').html('all address'));
            srcIpSelectOjbect.append(jqry('<option>').attr('value','0.0.0.0/0').html('any address'));
            _trObject_.append(jqry('<th>').append(srcIpSelectOjbect));
            //
            _trObject_.append(jqry('<th>').append(jqry('<input>').attr('type','text').attr('id','dstIp')));
            //
            var dstIpSelectOjbect = jqry('<select>').attr('id','dstIpSelectOjbect');
            dstIpSelectOjbect.append(jqry('<option>').attr('value','userdefine').html('user define'));
            dstIpSelectOjbect.append(jqry('<option>').attr('value','all').html('all address'));
            dstIpSelectOjbect.append(jqry('<option>').attr('value','0.0.0.0/0').html('any address'));
            _trObject_.append(jqry('<th>').append(dstIpSelectOjbect));
            //
            var protocolSelectObject = jqry('<select>').attr('id','protocolSelectObject');
            protocolSelectObject.append(jqry('<option>').attr('value','select').html('select'));
            protocolSelectObject.append(jqry('<option>').attr('value','all').html('all service'));
            protocolSelectObject.append(jqry('<option>').attr('value','0').html('any service'));
            protocolSelectObject.append(jqry('<option>').attr('value','tcp').html('tcp'));
            protocolSelectObject.append(jqry('<option>').attr('value','udp').html('udp'));
            protocolSelectObject.append(jqry('<option>').attr('value','icmp').html('icmp'));
            _trObject_.append(jqry('<th>').append(protocolSelectObject));
            //
            _trObject_.append(jqry('<th>').append(jqry('<input>').attr('type','text').attr('id','dstPort')));
            //
            var actionSelectObject = jqry('<select>').attr('id','actionSelectObject');
            actionSelectObject.append(jqry('<option>').attr('value','permit').html('permit'));
            actionSelectObject.append(jqry('<option>').attr('value','deny').html('deny'));
            _trObject_.append(jqry('<th>').append(actionSelectObject));
            //
            var searchButton = jqry('<button>').attr('id','searchButton').html('search');
            _trObject_.append(jqry('<th>').append(searchButton));
            //
            jqry('#protocolSelectObject').on('change', function(event){
               var _thisProtocol_ = jqry(this).val();
               if(_thisProtocol_.match('all')){
                 jqry('#dstPort').attr('disabled','disabled').val('all').css('color','grey');
               }else if(_thisProtocol_.match('icmp')){
                 jqry('#dstPort').attr('disabled','disabled').val('disabled').css('color','grey');
               }else if(_thisProtocol_.match('0')){
                 jqry('#dstPort').attr('disabled','disabled').val('0-65535').css('color','grey');
               }else if(_thisProtocol_.match('select')){
                 jqry('#dstPort').attr('disabled','disabled').val('select').css('color','grey');
               }else{
                 jqry('#dstPort').removeAttr('disabled').val('80, number only').css('color','grey');
               }
               event.preventDefault()
               event.stopPropagation()
               return false
            });
            //
            jqry('#srcIpSelectOjbect').on('change', function(event){
               var _thisOption_ = jqry(this).val();
               if (_thisOption_.match('all')){
                 jqry('#srcIp').attr('disabled','disabled').val('all').css('color','grey');
               }else if(_thisOption_.match('0.0.0.0/0')){
                 jqry('#srcIp').attr('disabled','disabled').val('0.0.0.0/0').css('color','grey');
               }else{
                 jqry('#srcIp').removeAttr('disabled').val('10.10.10.1/32').css('color','grey');
               };               
               event.preventDefault()
               event.stopPropagation()
               return false
            });
            //
            jqry('#dstIpSelectOjbect').on('change', function(event){
               var _thisOption_ = jqry(this).val();
               if (_thisOption_.match('all')){
                 jqry('#dstIp').attr('disabled','disabled').val('all').css('color','grey');
               }else if(_thisOption_.match('0.0.0.0/0')){
                 jqry('#dstIp').attr('disabled','disabled').val('0.0.0.0/0').css('color','grey');
               }else{
                 jqry('#dstIp').removeAttr('disabled').val('20.20.20.1/32').css('color','grey');
               };
               event.preventDefault()
               event.stopPropagation()
               return false
            });
            //
            var ip_pattern = new RegExp("^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+/[0-9]+$");
            var port_pattern = new RegExp("^[0-9]+$");
            jqry('#searchButton').on('click', function(event){
               jqry('#_searchInputValidation_div_').remove();
               //
               var _thisSrcIp_ = jqry('#srcIp').val();
               if (! _thisSrcIp_.match('all')){
                 if (! ip_pattern.test(_thisSrcIp_)){
                   var _searchInputValidation_div_ = jqry('<div>').attr('id','_searchInputValidation_div_').attr('align','center').html('wrong source address').css('color','red').css('font-size','13');
                   jqry(document.body).append(_searchInputValidation_div_);  
                   event.preventDefault()
                   event.stopPropagation()
                   return false
                 }
               }
               //
               var _thisDstIp_ = jqry('#dstIp').val();
               if (! _thisDstIp_.match('all')){
                 if (! ip_pattern.test(_thisDstIp_)){
                   var _searchInputValidation_div_ = jqry('<div>').attr('id','_searchInputValidation_div_').attr('align','center').html('wrong destination address').css('color','red').css('font-size','13');
                   jqry(document.body).append(_searchInputValidation_div_);  
                   event.preventDefault()
                   event.stopPropagation()
                   return false
                 }
               }
               //
               var _thisProtocal_ = jqry('#protocolSelectObject > option:selected').val();
               if (_thisProtocal_.match('select')){
                 var _searchInputValidation_div_ = jqry('<div>').attr('id','_searchInputValidation_div_').attr('align','center').html('choose protocol').css('color','red').css('font-size','13');
                 jqry(document.body).append(_searchInputValidation_div_);  
                 event.preventDefault()
                 event.stopPropagation()
                 return false
               }
               //
               var _thisDstPort_ = jqry('#dstPort').val();
               if (! (_thisDstPort_.match('all') || _thisDstPort_.match('disabled') || _thisDstPort_.match('0-65535') || _thisDstPort_.match('select'))){
                 if (! port_pattern.test(_thisDstPort_)){
                   var _searchInputValidation_div_ = jqry('<div>').attr('id','_searchInputValidation_div_').attr('align','center').html('wrong application number').css('color','red').css('font-size','13');
                   jqry(document.body).append(_searchInputValidation_div_);  
                   event.preventDefault()
                   event.stopPropagation()
                   return false
                 }
               }
               //
               if (_thisSrcIp_.match('all') && _thisDstIp_.match('all')){
                 var _searchInputValidation_div_ = jqry('<div>').attr('id','_searchInputValidation_div_').attr('align','center').html('one of address should be not "all" value').css('color','red').css('font-size','13');
                 jqry(document.body).append(_searchInputValidation_div_);
                 event.preventDefault()
                 event.stopPropagation()
                 return false
               };
               // 
               var _thisAction_ = jqry('#actionSelectObject > option:selected').val();
               //
               jqry('#_matchstatusOverview_div_').remove();
               jqry('#_matchpolicytable_div_').remove();
               jqry('#_ajax_return_result_div_').remove();
               jqry.ajax({
                  type:"POST",
                  url:ajax_api_server.concat('juniper/searchpolicy/'),
                  data:JSON.stringify({
                      items:[{
                           srcIp:_thisSrcIp_,
                           dstIp:_thisDstIp_,
                           appProtocol:_thisProtocal_,
                           srcPort:'all',
                           dstPort:_thisDstPort_,
                           action:_thisAction_
                      }]
                  }),
                  success:function(data){
                      var _getFrom_ajax_ = JSON.parse(data);
                      var _getFrom_ajax_items_ = _getFrom_ajax_.items;
                      if (_getFrom_ajax_items_.length){
                        var _matchstatusOverview_div_ = jqry('<div>').attr('id','_matchstatusOverview_div_').attr('align','center');
                        jqry(document.body).append(_matchstatusOverview_div_);
                        var _matchstatusOverview_table_ = jqry('<table>').attr('border','1').css('margin','auto').attr('id','_matchstatusOverview_table_'); 
                        _matchstatusOverview_div_.append(_matchstatusOverview_table_);
                        jqry.each(_getFrom_ajax_items_, function(index, element){
                           var _tabletr_ = jqry('<tr>');
                           _matchstatusOverview_table_.append(_tabletr_);
                           _tabletr_.append(jqry('<th>').html(element.hostname).css('font-size','11').css('color','grey'));
                           _tabletr_.append(jqry('<th>').html(element.from_zone).css('font-size','11').css('color','grey'));
                           _tabletr_.append(jqry('<th>').html(element.to_zone).css('font-size','11').css('color','grey'));
                           if (element.matchstatus){
                             _tabletr_.append(jqry('<th>').html('existed').css('color','green').css('font-size','12'));
                           }else{
                             _tabletr_.append(jqry('<th>').html('not existed').css('color','red').css('font-size','12'));
                           };
                        });
                        //
                        var _matchpolicytable_div_ = jqry('<div>').attr('id','_matchpolicytable_div_').attr('align','center');
                        jqry(document.body).append(_matchpolicytable_div_);
                        jqry.each(_getFrom_ajax_items_, function(index, element){
                           var _thisTableName_ = element.hostname + ' ' + element.from_zone + ' ' + element.to_zone;
                           if (element.perfectrules.length || element.includerules.length || element.partialrules.length){
                             _matchpolicytable_div_.append(jqry('<div>').attr('align','center').html(_thisTableName_).css('font-size','13').css('color','blue'));
                             var _eachruletable_ = jqry('<table>').css('margin','auto').attr('id','_eachruletable_');
                             _matchpolicytable_div_.append(_eachruletable_);
                             if (element.perfectrules.length){
                               var _rulesArray_ = element.perfectrules;
                               jqry.each(_rulesArray_, function(_id_, _ele_){
                                   var _itText_ = new Array(
                                      _ele_.hostname,
                                      _ele_.from_zone,
                                      _ele_.to_zone,
                                      'perfectmatch',
                                      _ele_.policyname,
                                      _ele_.sequence_number,
                                      _ele_.srcIp.join('<br>'),
                                      _ele_.srcPort.join('<br>'),
                                      _ele_.dstIp.join('<br>'),
                                      _ele_.dstPort.join('<br>'),
                                      _ele_.action
                                   );
                                   _addLine_forText_(_eachruletable_, _itText_);
                               });
                             }
                             if (element.includerules.length){
                               var _rulesArray_ = element.includerules;
                               jqry.each(_rulesArray_, function(_id_, _ele_){
                                   var _itText_ = new Array(
                                      _ele_.hostname,
                                      _ele_.from_zone,
                                      _ele_.to_zone,
                                      'includematch',
                                      _ele_.policyname,
                                      _ele_.sequence_number,
                                      _ele_.srcIp.join('<br>'),
                                      _ele_.srcPort.join('<br>'),
                                      _ele_.dstIp.join('<br>'),
                                      _ele_.dstPort.join('<br>'),
                                      _ele_.action
                                   );
                                   _addLine_forText_(_eachruletable_, _itText_);
                               });
                             }
                             if (element.partialrules.length){
                               var _rulesArray_ = element.partialrules;
                               jqry.each(_rulesArray_, function(_id_, _ele_){
                                   var _itText_ = new Array(
                                      _ele_.hostname,
                                      _ele_.from_zone,
                                      _ele_.to_zone,
                                      'partialmatch',
                                      _ele_.policyname,
                                      _ele_.sequence_number,
                                      _ele_.srcIp.join('<br>'),
                                      _ele_.srcPort.join('<br>'),
                                      _ele_.dstIp.join('<br>'),
                                      _ele_.dstPort.join('<br>'),
                                      _ele_.action
                                   );
                                   _addLine_forText_(_eachruletable_, _itText_);
                               });
                             }
                           }
                        });
                      }else{
                        jqry(document.body).append(jqry('<div>').attr('align','center').attr('id','_ajax_return_result_div_').html('nothing searched!').css('color','red').css('font-size','11'));
                      };
                  }
               });
               //
               event.preventDefault()
               event.stopPropagation()
               return false
            });
         };
         userSearchMenu();
         event.preventDefault()
         event.stopPropagation()
         return false
      });
      

    });
    



  </script>
 </head>

 <body>
 </body>

</html>
